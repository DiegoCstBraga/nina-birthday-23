import{h as N}from"./kaplay-CpR_OpMc.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const c of e.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(o){if(o.ep)return;o.ep=!0;const e=r(o);fetch(o.href,e)}})();function M({txt:t="text",width:s=240,height:r=80,action:n=()=>debug.log("click"),position:o=[20,20]}){const[e,c]=o;vec2(e,c);const a=add([rect(s,r,{radius:8}),pos(center()),area(),scale(1),anchor("center"),outline(4),color(255,255,255),layer("ui")]);return a.add([text(t),anchor("center"),color(0,0,0)]),a.onHoverUpdate(()=>{const l=time()*10;a.color=hsl2rgb(l/10%1,.6,.7),a.scale=vec2(1.1),setCursor("pointer")}),a.onHoverEnd(()=>{a.scale=vec2(1),a.color=rgb()}),a.onClick(n),a}function G(){const t=play("bgSong",{volume:.2,loop:!0});setBackground(Color.fromHex("#202020"));const s=add([sprite("startMenuBg"),layer("bg"),pos(center()),anchor("center")]),r=e=>wave(.5,.8,time()+e),n=e=>wave(-9,9,time()+e);onUpdate(()=>{s.use(scale(r(1))),s.use(rotate(n(1)))}),M({txt:"Start",action:()=>{go("room1",{origin:"mainMenu"}),t?.stop()}})}const A=300,p=40,H="#FFB3BA",b="#FF677D";function C(){const t=make([rect(40,40),anchor("center"),pos(60,-40),"tooltip",outline(4)]);return t.onAdd(()=>{t.add([text("E",{size:32}),anchor("center"),color(0,0,0)])}),t}const I=80,U=800,Y=.9,x=[1e3,4e3],F=[-200,200],K=.3,V=60,B=[2,8],X=.7,q=.6;function _({opt:t={}}){const s=r=>typeof r=="function"?r():r;for(let r=0;r<(t.count??I);r++){const n=add([pos(s(t.pos??vec2(0,0))),choose([rect(rand(5,20),rand(5,20)),circle(rand(3,10))]),color(s(t.color??hsl2rgb(rand(0,1),X,q))),opacity(1),lifespan(4),scale(1),anchor("center"),rotate(rand(0,360))]),o=rand(B[0],B[1]),e=t.gravity??U,c=t.airDrag??Y,a=s(t.heading??0)-90,l=t.spread??V,g=a+rand(-l/2,l/2),S=t.fade??K,h=s(t.velocity??rand(x[0],x[1]));let u=Math.cos(deg2rad(g))*h,y=Math.sin(deg2rad(g))*h;const m=s(t.angularVelocity??rand(F[0],F[1]));n.onUpdate(()=>{y+=e*dt(),n.pos.x+=u*dt(),n.pos.y+=y*dt(),n.angle+=m*dt(),n.opacity-=S*dt(),u*=c,y*=c,n.scale.x=wave(-1,1,time()*o)})}}async function j({maxConfetti:t=11,delay:s=.5,loop:r=!1}){for(let n=1;n<t;r?n:n++)await wait(s,()=>{_({opt:{pos:vec2(width()/n,height()/1.5)}}),_({opt:{pos:vec2(width()/(t-n),height()/1.5)}})})}function L({spriteName:t,initialPosX:s,initialPosY:r}){const n=s??width()/2,o=r??height()-p-140,e=make([pos(n,o),body(),area(),z(10),layer("char"),"friend"]);return e.use(sprite(t,{width:120,height:120})),e}function O(){const t=make([sprite("nina",{height:120,width:120,fill:!0}),area(),pos(10,10),body(),z(10),layer("char"),"player"]);return onKeyPress(["up","space"],()=>{t.isJumping()||t.jump()}),onKeyDown("right",()=>{t.move(1*A,0)}),onKeyDown("down",()=>{t.move(0,1*A)}),onKeyDown("left",()=>{t.move(-1*A,0)}),t}function P(){setBackground(Color.fromHex(H)),setGravity(1600),add([rect(width(),p),color(b),pos(0,0),area(),body({isStatic:!0}),outline(4),layer("obj")]),add([rect(width(),p),color(b),pos(0,height()-p),area(),body({isStatic:!0}),outline(4),layer("obj")]),add([rect(10,height()),color(b),pos(0),area(),body({isStatic:!0}),outline(4),layer("obj")]),add([rect(10,height()),color(b),pos(width()-10,0),area(),body({isStatic:!0}),outline(4),layer("obj")])}function $(){const t=new Date(2025,10,7),s=new Date;return t.setHours(0,0,0,0),s.setHours(0,0,0,0),s>=t}const J="Feliz aniversário de 3 anos meu amooor, sou muito grato de entrarmos nesta marca juntos e que venham muitos anos pela frente. Te amo muitoooo <3";function W({origin:t}){P(),M({txt:"<- Return",position:[20,20],action:()=>{go("mainMenu"),a?.stop()}}).moveTo(160,100);const n=i=>wave(.8,1,time()+i),o=i=>wave(-9,9,time()+i),e=()=>[sprite("sounds"),pos(-32),rotate(),"notes"];let c=!1,a,l=0;function g(){const i=h.add(e()),f=i.add(e()),E=f.add(e());i.onUpdate(()=>{i.use(scale(n(3))),i.use(rotate(o(3)))}),f.onUpdate(()=>{f.use(scale(n(2))),f.use(rotate(o(2)))}),E.onUpdate(()=>{E.use(scale(n(1))),E.use(rotate(o(1)))}),a.onEnd(()=>{c=!1,l=0,h.remove(i)})}const S=()=>{if(!a){a=play("mainSong",{volume:.5,seek:l}),c=!0,g();return}if(!c){a.play(),a.seek(l),c=!0,g();return}c&&(l=a.time(),a.stop(),c=!1,h.removeAll("notes"))},h=add([sprite("jukebox",{width:120,height:180,fill:!0}),pos(200,height()-p-180),area(),"item",{action:S}]),u=L({spriteName:"diego"}),y=async()=>{a||(a=play("mainSong",{volume:.5,seek:l}),c=!0,g()),m.exists()||(add(m),j({maxConfetti:11,delay:1}),u.exists()||(add(u),u.onUpdate(()=>{(m.exists()||c)&&(u.move(Math.floor(time())%2?100:-100,0),u.isGrounded()&&u.jump())})))};add([sprite("cake3",{height:240,width:240}),pos(600,height()-p-240),area(),"item",{action:y}]);const m=make([pos(40,160),text(J,{width:width()-80,size:40,align:"center",lineSpacing:8,letterSpacing:4,transform:(i,f)=>({color:hsl2rgb((time()*.2+i*.1)%1,.9,.6),pos:vec2(0,wave(-4,4,time()*4+i*.5)),scale:wave(1,1.2,time()*3+i),angle:wave(-9,9,time()*3+i)})}),layer("ui")]);m.onAdd(()=>wait(10,()=>{destroy(m)}));const w=make([pos(40,height()-40-120-200),text("Próxima porta só será liberada no dia 07/11 em diante",{width:width()-80,size:40,align:"center",lineSpacing:8,letterSpacing:4,transform:(i,f)=>({color:hsl2rgb((time()*.2+i*.1)%1,.9,.1),pos:vec2(0,wave(-4,4,time()*4+i*.5)),scale:wave(1,1.2,time()*3+i),angle:wave(-9,9,time()*3+i)})}),layer("ui")]);w.onAdd(()=>{wait(3,()=>w.destroy())});const R=()=>{$()?(a?.stop(),go("room2")):w.exists()||add(w)};add([sprite("door",{height:120,width:120}),pos(width()-160,height()-p-120),area(),"item",{action:R}]);let D;const v=O();add(v),t==="mainMenu"&&v.moveTo(100,height()-80-80),t==="room2"&&v.moveTo(width()-200,height()-80-80);const T=C();v.onCollide("item",i=>{T.exists()||(i.add(T),D=onKeyPress("e",()=>i.action()))}),v.onCollideEnd("item",i=>{i.removeAll("tooltip"),D.cancel()})}const Q=`Feliz 23 anos, meu amoorrr. Eu e toda sua família lhe desejamos um dia muito incrível e especial.

Desejamos muitas felicidades, muita saúde e que você continue sendo essa pessoa maravilhosa. Te amamos muito <3`,Z=["chico","vivi","clo","gaby","diego"];function ee(){P();const t=play("parabens",{volume:.5,loop:!0});add([sprite("door",{height:120,width:120}),pos(40,height()-p-120),area(),"item",{action:()=>{go("room1",{origin:"room2"}),t.stop()}}]),j({loop:!0,delay:1.5}),Z.forEach((e,c)=>{const a=rand(120,width()-120);console.log({friend:e,randPosX:a,width:width()});const l=L({spriteName:e,initialPosX:a});add(l)}),on("update","friend",e=>{e.exists()&&(e.move(Math.floor(time())%2?100:-100,0),e.isGrounded()&&e.jump())}),add([sprite("cake23",{height:240,width:240}),pos(600,height()-p-240),area(),layer("obj"),{action:()=>{}}]);const s=make([pos(40,160),text(Q,{width:width()-80,size:40,align:"center",lineSpacing:8,letterSpacing:4,transform:(e,c)=>({color:hsl2rgb((time()*.2+e*.1)%1,.9,.6),pos:vec2(0,wave(-4,4,time()*4+e*.5)),scale:wave(1,1.2,time()*3+e),angle:wave(-9,9,time()*3+e)})}),layer("ui")]);add(s);const r=O();add(r),r.moveTo(40,height()-120-120);const n=C();let o;r.onCollide("item",e=>{e.add(n),o=onKeyPress("e",()=>e.action())}),r.onCollideEnd("item",e=>{e.removeAll("tooltip"),o.cancel()})}const te=N({debug:!0,global:!0,backgroundAudio:!0,buttons:{jump:{keyboard:["space","up"]}},width:1280,height:720,letterbox:!0}),{loadRoot:oe,loadSprite:d,scene:k,go:ne}=te;oe("./");d("startMenuBg","sprites/startMenuBg.jpg");d("nina","sprites/nina.png");d("diego","sprites/diego.png");d("clo","sprites/clo.png");d("gaby","sprites/gaby.png");d("vivi","sprites/vivi.png");d("chico","sprites/chico.png");d("door","sprites/door.png");d("cake","sprites/cake.png");d("cake3","sprites/cake3.png");d("cake23","sprites/cake23.png");d("sounds","sprites/sounds.png");d("jukebox","sprites/jukebox.png");loadSound("test","sounds/test.mp3");loadSound("bgSong","sounds/bgSong.mp3");loadSound("mainSong","sounds/mainSong.mp3");loadSound("parabens","sounds/parabens.mp3");setLayers(["bg","obj","char","ui"],"char");k("mainMenu",G);k("room1",({origin:t})=>W({origin:t}));k("room2",ee);ne("mainMenu");
//# sourceMappingURL=index-CIMzGt5y.js.map
